{% extends 'base.html.twig' %}

{% block title %}Phase 2 - Evaluation {{ progress }}/{{ total }}{% endblock %}

{% block body %}
<div class="card">
    <div class="progress-text">Evaluation {{ progress }} of {{ total }}</div>
    <div class="progress-bar">
        <div class="progress-fill" style="width: {{ (progress / total * 100) }}%"></div>
    </div>

    <h1>Evaluate This Response</h1>

    <p>Below is a scenario and a response. Please rate the response on two dimensions.</p>

    <div class="vignette-box">
        <p>{{ vignette.content }}</p>

        <h4 style="margin-top: 20px; color: #3498db;">Response:</h4>
        <p style="font-style: italic;">{{ generation.simulatedResponse }}</p>
    </div>

    <form method="post" action="{{ path('survey_phase3_submit') }}">
        <input type="hidden" name="generation_id" value="{{ generation.id }}">

        <div class="form-group">
            <label>1. Content<br>
                <em>Ignoring how the answer is written:</em><br>
                To what extent does this response reach the same moral conclusion you would reach in this
                situation?</label>
            <div class="likert-scale">
                {% for i in 1..7 %}
                <div class="likert-option">
                    <input type="radio" name="agreement_score" value="{{ i }}" id="agreement_{{ i }}" required>
                    <label for="agreement_{{ i }}">{{ i }}</label>
                </div>
                {% endfor %}
            </div>
            <div class="likert-labels">
                <span>Strongly Disagree</span>
                <span>Neutral</span>
                <span>Strongly Agree</span>
            </div>
        </div>

        <div class="form-group" style="margin-top: 30px;">
            <label>2. Style<br>
                <em>Even if you agree or disagree with the conclusion:</em><br>
                To what extent does the way this response reasons and justifies the decision resemble how you yourself
                would explain it?</label>
            <div class="likert-scale">
                {% for i in 1..7 %}
                <div class="likert-option">
                    <input type="radio" name="authenticity_score" value="{{ i }}" id="authenticity_{{ i }}" required>
                    <label for="authenticity_{{ i }}">{{ i }}</label>
                </div>
                {% endfor %}
            </div>
            <div class="likert-labels">
                <span>Not at All</span>
                <span>Somewhat</span>
                <span>Very Much</span>
            </div>
        </div>

        <button type="submit" class="btn" style="margin-top: 30px;">Submit Evaluation</button>
    </form>
</div>
{% endblock %}